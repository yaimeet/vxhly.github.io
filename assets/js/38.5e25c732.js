(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{423:function(s,a,t){"use strict";t.r(a);var e=t(2),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("前言")]),s._v(" "),t("p",[s._v("本篇是 Liunx 的服务配置笔记系列第五篇, 这一篇将具体介绍 Red Hat Liunx 下 SAMBA 服务的安全配置。所谓 SAMBA 就是建立 Liunx 和 Windows 之间的共享, 使 Windows 能够访问 Liunx 下共享出来的文件")])]),s._v(" "),t("h2",{attrs:{id:"配置文件的位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置文件的位置"}},[s._v("#")]),s._v(" 配置文件的位置")]),s._v(" "),t("p",[s._v("主配置文件: "),t("strong",[s._v("/etc/samba/smb.conf")])]),s._v(" "),t("h2",{attrs:{id:"服务的启动与停止"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务的启动与停止"}},[s._v("#")]),s._v(" 服务的启动与停止")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("SAMBA 的服务名并不叫做 "),t("code",[s._v("samba")]),s._v(" , 而是 "),t("code",[s._v("smb")]),s._v(" 。"),t("br"),s._v("\n修改配置文件过后一定要重启 "),t("code",[s._v("smb")]),s._v(" 服务。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" smb status        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 状态")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" smb start         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" smb stop          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 暂停")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" smb restart       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"服务的安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务的安装"}},[s._v("#")]),s._v(" 服务的安装")]),s._v(" "),t("h3",{attrs:{id:"创建挂载目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建挂载目录"}},[s._v("#")]),s._v(" 创建挂载目录")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /mnt/cdrom\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"挂在光盘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#挂在光盘"}},[s._v("#")]),s._v(" 挂在光盘")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" /dev/cdrom /mnt/cdrom\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /mnt/cdrom/Server\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh perl-Convert-ASN1-0.20-1.1.noarch.rpm\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh samba-3.0.33-3.28.el5.i386.rpm\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://oss-blog.test.upcdn.net/liunx-samba-1.png",alt:"SAMBA 服务安全配置"}})]),s._v(" "),t("h2",{attrs:{id:"安全配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安全配置"}},[s._v("#")]),s._v(" 安全配置")]),s._v(" "),t("h3",{attrs:{id:"配置工作组和-netbios-名字"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置工作组和-netbios-名字"}},[s._v("#")]),s._v(" 配置工作组和 NetBIOS 名字")]),s._v(" "),t("p",[t("code",[s._v("Default Configuration:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("workgroup "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" MYGROUP\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("netbios name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" MYSERVER\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("该文件默认配置的工作组是 MYGROUP, 而 Windows 下的工作组默认为 WORKGROUP, Liunx 和 Windows 的工作组一定要一样, 才能访问共享的文件。"),t("br"),s._v("\n该文件默认将 NetBIOS 的名字注释掉了, NetBIOS 名字就是会在 Windows 下的网上邻居能够看到的名字, 注释掉就是会看不到, 建议去掉注释。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"http://oss-blog.test.upcdn.net/liunx-samba-2.png",alt:"SAMBA 服务安全配置"}})]),s._v(" "),t("h3",{attrs:{id:"配置安全级别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置安全级别"}},[s._v("#")]),s._v(" 配置安全级别")]),s._v(" "),t("p",[t("code",[s._v("Default Configuration:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("security "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" user\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("默认的配置是 "),t("code",[s._v("user")]),s._v(" 模式, 在该模式下, Windows 下访问 SAMBA 需要用户名和密码, 还可以设置的选项还有 "),t("code",[s._v("share/user/server/domain/ads")]),s._v(" 。可以根据需求修改此选项。")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("share")]),s._v(": 访问 Samba 服务器共享资源时不需要输入用户名和密码, 属于匿名访问。")]),s._v(" "),t("li",[t("strong",[s._v("user")]),s._v(": 访问 Samba 服务器共享资源时需要输入用户名和密码, 认证用户来源为 Samba 服务器本机。")]),s._v(" "),t("li",[t("strong",[s._v("server")]),s._v(": 访问 Samba 服务器共享资源时需要输入用户名和密码, 认证用户来源为另一台 Samba 服务器或 Windows 服务器。")]),s._v(" "),t("li",[t("strong",[s._v("domain")]),s._v(": Samba 服务器在一个基于 Windows NT 平台的 Windows 域中, 访问共享资源需要输入用户名和密码, 认证用户来源为 Windows 域。")]),s._v(" "),t("li",[t("strong",[s._v("ads")]),s._v(": Samba 服务器在一个基于 Windows 200X 平台的 Windows 活动目录中, 访问共享资源需要输入用户名和密码, 认证用户来源为 Windows 活动目录。")])]),s._v(" "),t("h3",{attrs:{id:"配置认证密码在传输过程中加密"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置认证密码在传输过程中加密"}},[s._v("#")]),s._v(" 配置认证密码在传输过程中加密")]),s._v(" "),t("p",[s._v("在默认的配置文件中没有此选项, 可以手动添加, 正常情况下是需要开启的。")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("encrypt passwords "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://oss-blog.test.upcdn.net/liunx-samba-3.png",alt:"SAMBA 服务安全配置"}})]),s._v(" "),t("h3",{attrs:{id:"配置用户密码的存储方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置用户密码的存储方式"}},[s._v("#")]),s._v(" 配置用户密码的存储方式")]),s._v(" "),t("p",[t("code",[s._v("Default Configuration:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("passdb backend "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" tdbsam\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("默认的配置为 "),t("code",[s._v("tdbsam")]),s._v(" , 配置这个选项就是需要 "),t("code",[s._v("smbpasswd -a [userName]")]),s._v(" 来建立 Samba 用户。还可以配置项为 "),t("code",[s._v("tdbsam/smbpasswd/ldapsam/mysql")]),s._v(" 。可以根据需求进行修改。")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("tdbsam")]),s._v(": 该方式使用一个数据库文件来建立用户数据库, 数据库文件名为 passdb.tdb 。可以使用 smbpasswd -a [用户名] 来建立 Samba 用户。也可以使用 pdbedit 命令来建立用户。")]),s._v(" "),t("li",[t("strong",[s._v("smbpasswd")]),s._v(": 该方式使用 Samba 提供的工具 smbpasswd 来给系统用户设置一个用于访问 Samba 服务的密码, 客户端就用这个密码访问 Samba 共享资源。此方式还要使用一个 smb passwd file = /usr/local/samba/etc/smbpasswd（或 /etc/samba/smbpasswd） 参数来指定保存用户名和密码的文件, 该文件需要手动建立。不推荐使用此方法。")]),s._v(" "),t("li",[t("strong",[s._v("ldapsam")]),s._v(": 该方式基于 LADP 的账户管理方式来验证用户, 先要建立 LDAP 服务。")]),s._v(" "),t("li",[t("strong",[s._v("mysql")]),s._v(": 该方式是将 Samba 服务器的用户名和密码存储到 MySQL 数据库中。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"http://oss-blog.test.upcdn.net/liunx-samba-4.png",alt:"SAMBA 服务安全配置"}})]),s._v(" "),t("h3",{attrs:{id:"设置白名单"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置白名单"}},[s._v("#")]),s._v(" 设置白名单")]),s._v(" "),t("p",[t("code",[s._v("Default Configuration:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("hosts allow "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(". "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".12"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v(". "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".13.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("默认的配置是将白名单进行注释掉的, 这里需要注意的是, 可以配置一个具体的 IP 地址, 也可以配置一个 IP 地址段, 在配置 IP 地址段的时候要注意最后一个 "),t("code",[s._v(".")]),s._v(" 不要忘了写。如默认配置中的 "),t("code",[s._v("127.")]),s._v(" 就是规定 "),t("code",[s._v("127.0.0.1 ～ 127.255.255.254")]),s._v(" 这个 IP 地址段可以进行访问, 具体的 IP 地址不需要最后的 "),t("code",[s._v(".")]),s._v(" .")])]),s._v(" "),t("p",[t("code",[s._v("For Example:")]),s._v(" "),t("br")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://oss-blog.test.upcdn.net/liunx-samba-5.png",alt:"SAMBA 服务安全配置"}})]),s._v(" "),t("h3",{attrs:{id:"单目录限定用户访问-禁止写入文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单目录限定用户访问-禁止写入文件"}},[s._v("#")]),s._v(" 单目录限定用户访问, 禁止写入文件")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("test"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 共享目录的名字")]),s._v("\n  comment "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 描述信息")]),s._v("\n  path "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /home/test       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 共享目录路径")]),s._v("\n  browseable "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否允许浏览")]),s._v("\n  writable "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" no           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否允许用户写入或者创建文件")]),s._v("\n  guest ok "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" no           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否允许 guest 用户访问")]),s._v("\n  valid "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("users")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sx\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 白名单,指定能够进入此资源目录的特定用户,使用逗号隔开,如果是组的话,使用 @ 指明")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("另外还可以配置以下参数")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("read only")]),s._v(" => 设置是否只读, "),t("code",[s._v("yes/no")])]),s._v(" "),t("li",[t("strong",[s._v("public")]),s._v(" => 设置是否让所有可以登录的用户看到这个项目")]),s._v(" "),t("li",[t("strong",[s._v("create mode")]),s._v(" => 指明新建立的文件的属性, 一般是 "),t("code",[s._v("0755")]),s._v(" 。")]),s._v(" "),t("li",[t("strong",[s._v("directory mode")]),s._v(" => 指明新建立的目录的属性, 一般是 "),t("code",[s._v("0755")]),s._v(" 。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"http://oss-blog.test.upcdn.net/liunx-samba-6.png",alt:"SAMBA 服务安全配置"}})]),s._v(" "),t("h3",{attrs:{id:"创建共享目录-设置权限"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建共享目录-设置权限"}},[s._v("#")]),s._v(" 创建共享目录, 设置权限")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /hoem/test\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /home/test\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("共享目录一定要有执行权限, 一般 "),t("code",[s._v("755")]),s._v(" 就够了, 这里设置 "),t("code",[s._v("777")]),s._v(" 就是权限大一点就是了。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"http://oss-blog.test.upcdn.net/liunx-samba-7.png",alt:"SAMBA 服务安全配置"}})]),s._v(" "),t("h3",{attrs:{id:"添加-samba-用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加-samba-用户"}},[s._v("#")]),s._v(" 添加 SAMBA 用户")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" zc\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" sx\nsmbpasswd -a zc\nsmbpasswd -a sx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("这里需要注意的是, 要使用 "),t("code",[s._v("smbpasswd -a")]),s._v(" 创建用户, 因为之前设置了用户密码的存储方式为 "),t("code",[s._v("tdbsam")]),s._v(" 。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"http://oss-blog.test.upcdn.net/liunx-samba-8.png",alt:"SAMBA 服务安全配置"}})]),s._v(" "),t("h3",{attrs:{id:"使用-windows-访问"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-windows-访问"}},[s._v("#")]),s._v(" 使用 windows 访问")]),s._v(" "),t("p",[t("code",[s._v("For Example:")]),s._v(" "),t("br")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://oss-blog.test.upcdn.net/liunx-samba-9.png",alt:"SAMBA 服务安全配置"}})]),s._v(" "),t("p",[s._v("输入用户名和密码, 就可以愉快的进行测试了, 这里就不多说了。")]),s._v(" "),t("h3",{attrs:{id:"使用-smbclient-访问"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-smbclient-访问"}},[s._v("#")]),s._v(" 使用 smbclient 访问")]),s._v(" "),t("h4",{attrs:{id:"列出共享文件夹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#列出共享文件夹"}},[s._v("#")]),s._v(" 列出共享文件夹")]),s._v(" "),t("p",[s._v("列出某个 IP 地址所提供的共享文件夹")]),s._v(" "),t("p",[t("code",[s._v("Connect Format:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("smbclient -L "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ip"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" -U "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("userName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("%"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("password"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"像-ftp-客户端一样使用-smbclient"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#像-ftp-客户端一样使用-smbclient"}},[s._v("#")]),s._v(" 像 FTP 客户端一样使用 smbclient")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("执行 smbclient 命令成功后, 进入 smbclient 环境, 出现提示符: "),t("code",[s._v("smb:\\>")]),s._v(" 这里有许多命令和 ftp 命令相似, 如 "),t("code",[s._v("cd")]),s._v(" 、 "),t("code",[s._v("lcd")]),s._v(" 、 "),t("code",[s._v("get")]),s._v(" 、 "),t("code",[s._v("megt")]),s._v(" 、 "),t("code",[s._v("put")]),s._v(" 、 "),t("code",[s._v("mput")]),s._v(" 等。通过这些命令, 我们可以访问远程主机的共享资源。")])]),s._v(" "),t("p",[t("code",[s._v("Connect Format:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("smbclient http://"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ip"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("shareFolder"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" -U "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("username"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("%"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("password"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);