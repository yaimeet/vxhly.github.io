(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{428:function(s,t,a){"use strict";a.r(t);var e=a(2),v=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("前言")]),s._v(" "),a("p",[s._v("本系列笔记又是 Liunx 学习系列教程的一大步, 本系列学习笔记记录 RedHat 系统的安全加固。本篇笔记是记录系统服务和进程的查看与关闭, 通俗的来说进程是运行起来的程序。唯一标示进程的是进程描述符（PID）, 在 linux 内核中是通过 task_struck 和 task_list 来定义和管理进程的")])]),s._v(" "),a("h2",{attrs:{id:"ps-查看系统进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ps-查看系统进程"}},[s._v("#")]),s._v(" ps 查看系统进程")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("命令作用")]),s._v(" "),a("p",[a("code",[s._v("ps")]),s._v(" 命令用于报告当前系统的进程状态。可以搭配 "),a("code",[s._v("kill")]),s._v(" 指令随时中断、删除不必要的程序。 "),a("code",[s._v("ps")]),s._v(" 命令是最基本同时也是非常强大的进程查看命令, 使用该命令可以确定有哪些进程正在运行和运行的状态、进程是否结束、进程有没有僵死、哪些进程占用了过多的资源等等, 总之大部分信息都是可以通过执行该命令得到的。")])]),s._v(" "),a("h3",{attrs:{id:"相关选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#相关选项"}},[s._v("#")]),s._v(" 相关选项")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("-a")]),s._v(" -------------------- 显示所有终端机下执行的程序, 除了阶段作业领导者之外")]),s._v(" "),a("li",[a("strong",[s._v("a")]),s._v(" -------------------- 显示现行终端机下的所有程序, 包括其他用户的程序")]),s._v(" "),a("li",[a("strong",[s._v("-A")]),s._v(" -------------------- 显示所有程序")]),s._v(" "),a("li",[a("strong",[s._v("-u<用户识别码>")]),s._v(" -------------------- 此选项的效果和指定 "),a("code",[s._v('"-U"')]),s._v(" 选项相同")]),s._v(" "),a("li",[a("strong",[s._v("u")]),s._v(" -------------------- 以用户为主的格式来显示程序状况")]),s._v(" "),a("li",[a("strong",[s._v("-U<用户识别码>")]),s._v(" -------------------- 列出属于该用户的程序的状况, 也可使用用户名称来指定")]),s._v(" "),a("li",[a("strong",[s._v("U<用户名称>")]),s._v(" -------------------- 列出属于该用户的程序的状况")]),s._v(" "),a("li",[a("strong",[s._v("-e")]),s._v(" -------------------- 此选项的效果和指定 "),a("code",[s._v('"A"')]),s._v(" 选项相同")]),s._v(" "),a("li",[a("strong",[s._v("e")]),s._v(" -------------------- 列出程序时, 显示每个程序所使用的环境变量")]),s._v(" "),a("li",[a("strong",[s._v("-f")]),s._v(" -------------------- 显示 UID, PPIP, C 与 STIME 栏位")]),s._v(" "),a("li",[a("strong",[s._v("f")]),s._v(" -------------------- 用 ASCII 字符显示树状结构, 表达程序间的相互关系")])]),s._v(" "),a("h3",{attrs:{id:"示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[s._v("#")]),s._v(" 示例")]),s._v(" "),a("p",[a("code",[s._v("For Example:")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"http://oss-blog.test.upcdn.net/process-1.png",alt:"RedHat 安全加固"}})]),s._v(" "),a("h2",{attrs:{id:"netstat-查看网络情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#netstat-查看网络情况"}},[s._v("#")]),s._v(" netstat 查看网络情况")]),s._v(" "),a("p",[s._v("netstat 命令用来打印 Linux 中网络系统的状态信息, 可让你得知整个 Linux 系统的网络情况。")]),s._v(" "),a("h3",{attrs:{id:"相关选项-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#相关选项-2"}},[s._v("#")]),s._v(" 相关选项")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("-t 或 --tcp")]),s._v(" -------------------- 显示 TCP 传输协议的连线状况")]),s._v(" "),a("li",[a("strong",[s._v("-u 或 --udp")]),s._v(" -------------------- 显示 UDP 传输协议的连线状况")]),s._v(" "),a("li",[a("strong",[s._v("-n 或 --numeric")]),s._v(" -------------------- 直接使用 ip 地址, 而不通过域名服务器")]),s._v(" "),a("li",[a("strong",[s._v("-p 或 --programs")]),s._v(" -------------------- 显示正在使用 Socket 的程序识别码和程序名称")]),s._v(" "),a("li",[a("strong",[s._v("-l 或 --listening")]),s._v(" -------------------- 显示监控中的服务器的 Socket")])]),s._v(" "),a("h3",{attrs:{id:"示例-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-2"}},[s._v("#")]),s._v(" 示例")]),s._v(" "),a("p",[a("code",[s._v("For Example:")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -tulnp\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"http://oss-blog.test.upcdn.net/process-2.png",alt:"RedHat 安全加固"}})]),s._v(" "),a("h2",{attrs:{id:"chkconfig-查看系统服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chkconfig-查看系统服务"}},[s._v("#")]),s._v(" chkconfig 查看系统服务")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("命令作用")]),s._v(" "),a("p",[s._v("chkconfig 命令检查、设置系统的各种服务。这是 Red Hat 公司遵循 GPL 规则所开发的程序, 它可查询操作系统在每一个执行等级中会执行哪些系统服务, 其中包括各类常驻服务。谨记 chkconfig 不是立即自动禁止或激活一个服务, 它只是简单的改变了符号连接。")])]),s._v(" "),a("h3",{attrs:{id:"选项解释"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选项解释"}},[s._v("#")]),s._v(" 选项解释")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("--add")]),s._v(" -------------------- 增加所指定的系统服务, 让 "),a("code",[s._v("chkconfig")]),s._v(" 指令得以管理它, 并同时在系统启动的叙述文件内增加相关数据；")]),s._v(" "),a("li",[a("strong",[s._v("--del")]),s._v(" -------------------- 删除所指定的系统服务, 不再由 "),a("code",[s._v("chkconfig")]),s._v(" 指令管理, 并同时在系统启动的叙述文件内删除相关数据；")]),s._v(" "),a("li",[a("strong",[s._v("--level<等级代号>")]),s._v(" -------------------- 指定读系统服务要在哪一个执行等级中开启或关毕。")])]),s._v(" "),a("p",[s._v("-- 等级 "),a("code",[s._v("0")]),s._v(" 表示 -------------------- 表示关机\n-- 等级 "),a("code",[s._v("1")]),s._v(" 表示 -------------------- 单用户模式\n-- 等级 "),a("code",[s._v("2")]),s._v(" 表示 -------------------- 无网络连接的多用户命令行模式\n-- 等级 "),a("code",[s._v("3")]),s._v(" 表示 -------------------- 有网络连接的多用户命令行模式\n-- 等级 "),a("code",[s._v("4")]),s._v(" 表示 -------------------- 不可用\n-- 等级 "),a("code",[s._v("5")]),s._v(" 表示 -------------------- 带图形界面的多用户模式\n-- 等级 "),a("code",[s._v("6")]),s._v(" 表示 -------------------- 重新启动")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("--list")]),s._v(" -------------------- 列出系统服务列表")])]),s._v(" "),a("h3",{attrs:{id:"示例-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-3"}},[s._v("#")]),s._v(" 示例")]),s._v(" "),a("p",[a("code",[s._v("For Example:")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" --list\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"http://oss-blog.test.upcdn.net/process-3.png",alt:"RedHat 安全加固"}})]),s._v(" "),a("h2",{attrs:{id:"关闭进程或服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关闭进程或服务"}},[s._v("#")]),s._v(" 关闭进程或服务")]),s._v(" "),a("h3",{attrs:{id:"kill-杀死进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kill-杀死进程"}},[s._v("#")]),s._v(" kill 杀死进程")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("命令作用")]),s._v(" "),a("p",[s._v("kill 命令用来删除执行中的程序或工作。kill 可将指定的信息送至程序。预设的信息为 SIGTERM(15), 可将指定程序终止。若仍无法终止该程序, 可使用 SIGKILL(9) 信息尝试强制删除程序。程序或工作的编号可利用 ps 指令或 job 指令查看。")])]),s._v(" "),a("h4",{attrs:{id:"选项解释-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选项解释-2"}},[s._v("#")]),s._v(" 选项解释")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("-a")]),s._v("-------------------- 当处理当前进程时, 不限制命令名和进程号的对应关系；")]),s._v(" "),a("li",[a("strong",[s._v("-l <信息编号>")]),s._v("-------------------- 若不加 "),a("code",[s._v("<信息编号>")]),s._v(" 选项, 则 "),a("code",[s._v("-l")]),s._v(" 参数会列出全部的信息名称；")]),s._v(" "),a("li",[a("strong",[s._v("p")]),s._v("-------------------- 指定 kill 命令只打印相关进程的进程号, 而不发送任何信号；")]),s._v(" "),a("li",[a("strong",[s._v("-s <信息名称或编号>")]),s._v("-------------------- 指定要送出的信息；")]),s._v(" "),a("li",[a("strong",[s._v("-u")]),s._v("-------------------- 指定用户。 参数")])]),s._v(" "),a("p",[s._v("只有第 9 种信号( "),a("code",[s._v("SIGKILL")]),s._v(" )才可以无条件终止进程, 其他信号进程都有权利忽略, 下面是常用的信号--------------------")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("HUP")]),s._v(" 1 终端断线")]),s._v(" "),a("li",[a("strong",[s._v("INT")]),s._v(" 2 中断（同 "),a("code",[s._v("Ctrl + C")]),s._v(" ）")]),s._v(" "),a("li",[a("strong",[s._v("QUIT")]),s._v(" 3 退出（同 "),a("code",[s._v("Ctrl + \\")]),s._v(" ）")]),s._v(" "),a("li",[a("strong",[s._v("TERM")]),s._v(" 15 终止")]),s._v(" "),a("li",[a("strong",[s._v("KILL")]),s._v(" 9 强制终止")]),s._v(" "),a("li",[a("strong",[s._v("CONT")]),s._v(" 18 继续（与 "),a("code",[s._v("STOP")]),s._v(" 相反, "),a("code",[s._v("fg/bg")]),s._v(" 命令）")]),s._v(" "),a("li",[a("strong",[s._v("STOP")]),s._v(" 19 暂停（同 "),a("code",[s._v("Ctrl + Z")]),s._v(" ）")])]),s._v(" "),a("h4",{attrs:{id:"示例-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-4"}},[s._v("#")]),s._v(" 示例")]),s._v(" "),a("p",[s._v("用 ps 查找进程, 然后用 kill 杀掉, "),a("code",[s._v("For Examlpe:")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4456")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("用 netstat 查找进程, 然后用 kill 杀掉, "),a("code",[s._v("For Examlpe:")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -tulnp "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4456")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"http://oss-blog.test.upcdn.net/process-4.png",alt:"RedHat 安全加固"}})]),s._v(" "),a("h3",{attrs:{id:"service-关闭服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#service-关闭服务"}},[s._v("#")]),s._v(" service 关闭服务")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("命令作用")]),s._v(" "),a("p",[s._v("service 命令是 Redhat Linux 兼容的发行版中用来控制系统服务的实用工具, 它以启动、停止、重新启动和关闭系统服务, 还可以显示所有系统服务的当前状态。")])]),s._v(" "),a("h4",{attrs:{id:"选项信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选项信息"}},[s._v("#")]),s._v(" 选项信息")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("-h")]),s._v("-------------------- 显示帮助信息；")]),s._v(" "),a("li",[a("strong",[s._v("--status-all")]),s._v("-------------------- 显示所服务的状态。")])]),s._v(" "),a("h4",{attrs:{id:"示例-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-5"}},[s._v("#")]),s._v(" 示例")]),s._v(" "),a("p",[a("code",[s._v("For Examlpe:")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld status\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" mysqld stop\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"http://oss-blog.test.upcdn.net/process-5.png",alt:"RedHat 安全加固"}})]),s._v(" "),a("p",[s._v("那么要是系统没有 "),a("code",[s._v("service")]),s._v(" 命令, 怎么办呢？Liunx 系统下是所有的服务名是存放在 "),a("code",[s._v("/etc/init.d/")]),s._v(" 下的, 所以也可以使用以下命令来停止服务, "),a("code",[s._v("For Examlpe:")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("/etc/init.d/named status\n/etc/init.d/named stop\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"http://oss-blog.test.upcdn.net/process-6.png",alt:"RedHat 安全加固"}})]),s._v(" "),a("h3",{attrs:{id:"chkconfig-删除服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chkconfig-删除服务"}},[s._v("#")]),s._v(" chkconfig 删除服务")]),s._v(" "),a("h4",{attrs:{id:"示例-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例-6"}},[s._v("#")]),s._v(" 示例")]),s._v(" "),a("p",[a("code",[s._v("For Examlpe:")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" --list "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendmail")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" --del "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendmail")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"http://oss-blog.test.upcdn.net/process-7.png",alt:"RedHat 安全加固"}})])])}),[],!1,null,null,null);t.default=v.exports}}]);