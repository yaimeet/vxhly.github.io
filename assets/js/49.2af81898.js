(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{434:function(s,a,t){"use strict";t.r(a);var e=t(2),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("前言")]),s._v(" "),t("p",[s._v("本篇是 Liunx 的学习笔记系列第五篇, 这一篇将介绍 Liunx 下用户的管理。用户管理看似很简单, 但是里面还隐藏着大学问呢")])]),s._v(" "),t("h2",{attrs:{id:"添加用户-并创建用户宿主目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加用户-并创建用户宿主目录"}},[s._v("#")]),s._v(" 添加用户, 并创建用户宿主目录")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" -m "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("userName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"删除用户-并删除用户宿主目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除用户-并删除用户宿主目录"}},[s._v("#")]),s._v(" 删除用户, 并删除用户宿主目录")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("userdel")]),s._v(" -r "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("userName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"添加-uid-为-0-的用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加-uid-为-0-的用户"}},[s._v("#")]),s._v(" 添加 uid 为 0 的用户")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" -u "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -o "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("userName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"查看用户的-uid-或-gid-等信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看用户的-uid-或-gid-等信息"}},[s._v("#")]),s._v(" 查看用户的 uid 或 gid 等信息")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("userName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"为用户添加密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为用户添加密码"}},[s._v("#")]),s._v(" 为用户添加密码")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("userName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 普通方法")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"passwd string"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" --stdin "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("userName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出文本内容作为密码")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("普通用户修改密码命令:  passwd")]),s._v(" "),t("h2",{attrs:{id:"查看用户的密码状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看用户的密码状态"}},[s._v("#")]),s._v(" 查看用户的密码状态")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" -S "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("userName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("                      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 普通方法")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/passwd "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("userName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看配置文件")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"禁用和解锁用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#禁用和解锁用户"}},[s._v("#")]),s._v(" 禁用和解锁用户")]),s._v(" "),t("h3",{attrs:{id:"passwd-方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#passwd-方法"}},[s._v("#")]),s._v(" passwd 方法")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" -l "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("userName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 禁用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" -u "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("userName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解锁")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"修改-etc-shadow-文件（root-用户）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改-etc-shadow-文件（root-用户）"}},[s._v("#")]),s._v(" 修改 /etc/shadow 文件（root 用户）")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/shadow\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("禁用则在密码位前手工添加 "),t("code",[s._v("!")]),s._v(" （启用删除 "),t("code",[s._v("!")]),s._v(" 即可）")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("test:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$afiVSYfG")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$utdc2qWLNrqNcy63Ca8301")]),s._v(":16998:0:99999:7:::     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 只加一个 ！")]),s._v("\ntest:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$afiVSYfG")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$utdc2qWLNrqNcy63Ca8301")]),s._v(":16998:0:99999:7:::    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加两个,效果一致")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("使用 "),t("code",[s._v(":wq!")]),s._v(" 强制保存, 因为其权限为 "),t("code",[s._v("000")])]),s._v(" "),t("h3",{attrs:{id:"usermod-方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#usermod-方法"}},[s._v("#")]),s._v(" usermod 方法")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -L "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("userName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 禁用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -U "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("userName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解锁")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"设置用户一登录就要修改密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置用户一登录就要修改密码"}},[s._v("#")]),s._v(" 设置用户一登录就要修改密码")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("chage -d "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("userName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个命令其实是把密码修改日期归 0 了 （/etc/shadow 文件第 3 个字段）")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"查看当前登录的用户是谁"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看当前登录的用户是谁"}},[s._v("#")]),s._v(" 查看当前登录的用户是谁")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("whoami")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"查看当前登录的用户的环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看当前登录的用户的环境变量"}},[s._v("#")]),s._v(" 查看当前登录的用户的环境变量")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("env")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"切换用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#切换用户"}},[s._v("#")]),s._v(" 切换用户")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("userName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);