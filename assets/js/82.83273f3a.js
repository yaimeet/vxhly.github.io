(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{465:function(s,a,t){"use strict";t.r(a);var n=t(2),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("前言")]),s._v(" "),t("p",[s._v("此系列笔记是网络渗透工具的使用方法, 本篇是介绍端口扫描工具 Nmap 的使用方法。Nmap 在渗透测试中经常用到, 它不仅可以用来确定目标网络上计算机的存活状态, 而且可以扫描各个计算机的操作系统、开放端口、服务, 还有可能获得用户的证书。熟练掌握 Nmap 的用法, 可以极大的提高渗透测试技术")])]),s._v(" "),t("h2",{attrs:{id:"nmap-环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nmap-环境"}},[s._v("#")]),s._v(" Nmap 环境")]),s._v(" "),t("p",[t("code",[s._v("kali Liunx")]),s._v(" 里已经集成了 Namp 环境, 所以就不在 "),t("code",[s._v("Windows")]),s._v(" 下进行了。")]),s._v(" "),t("h2",{attrs:{id:"nmap-命令结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nmap-命令结构"}},[s._v("#")]),s._v(" Nmap 命令结构")]),s._v(" "),t("p",[t("code",[s._v("Scanning Format:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("nmap -"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("option"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("IP or domain"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" -oN "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("fileName.txt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"nmap-使用解释"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nmap-使用解释"}},[s._v("#")]),s._v(" Nmap 使用解释")]),s._v(" "),t("h3",{attrs:{id:"识别系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#识别系统"}},[s._v("#")]),s._v(" 识别系统")]),s._v(" "),t("p",[t("code",[s._v("Scanning Format:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("nmap -O -Pn "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("IP or domain"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("使用 "),t("code",[s._v("-O")]),s._v(" 选项, 可以获取到被扫描的主机的系统。 "),t("code",[s._v("-Pn")]),s._v(" 选项禁用 Nmap 网络发现功能, 假定所有系统都是活动的")]),s._v(" "),t("h3",{attrs:{id:"timing-模板"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#timing-模板"}},[s._v("#")]),s._v(" Timing 模板")]),s._v(" "),t("p",[t("code",[s._v("timing")]),s._v(" 参数可以指定 nmap 扫描的速度。其中各个选项如下:")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("T0")]),s._v(" => paranoid 慢速网络扫描, 串行扫描, 两次扫描间隔 "),t("code",[s._v("5 分钟")]),s._v(" 。扫描速度极慢。")]),s._v(" "),t("li",[t("strong",[s._v("T1")]),s._v(" => Sneky 慢速网络扫描, 串行扫描, 两次扫描间隔 "),t("code",[s._v("15 秒")]),s._v(" , 扫描速度较慢。")]),s._v(" "),t("li",[t("strong",[s._v("T2")]),s._v(" => Polite 中速网络扫描, 串行扫描, 两次扫描间隔 "),t("code",[s._v("400 毫秒")]),s._v(" , 扫描速度慢。")]),s._v(" "),t("li",[t("strong",[s._v("T3")]),s._v(" => Normal 中速网络扫描, 并行扫描, 两次扫描间隔 "),t("code",[s._v("0 秒")]),s._v(" , 扫描速度正常。")]),s._v(" "),t("li",[t("strong",[s._v("T4")]),s._v(" => Aggressive 快速网络扫描, 并行扫描, 两次扫描间隔 "),t("code",[s._v("0 秒")]),s._v(" , 扫描速度较快。")]),s._v(" "),t("li",[t("strong",[s._v("T5")]),s._v(" => Normal 快速网络扫描, 并行扫描, 两次扫描间隔 "),t("code",[s._v("0 秒")]),s._v(" , 扫描速度极快。")])]),s._v(" "),t("p",[t("code",[s._v("Scanning Format:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("nmap -T"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-5"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("IP or domain"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"扫描方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#扫描方式"}},[s._v("#")]),s._v(" 扫描方式")]),s._v(" "),t("h3",{attrs:{id:"tcp-扫描"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tcp-扫描"}},[s._v("#")]),s._v(" TCP 扫描")]),s._v(" "),t("p",[s._v("端口扫描中最稳定的, 利用的是 TCP 三次握手。TCP 扫描通常用于收集有关目标的更多信息, 但是会和目标主机建立一个完成的 TCP 连接。")]),s._v(" "),t("p",[t("code",[s._v("Scanning Format:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("nmap -sT -Pn "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("IP or domain"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[t("code",[s._v("-sT")]),s._v(" TCP 连接扫描（ "),t("code",[s._v("s")]),s._v(" ==> 哪种类型扫描； "),t("code",[s._v("T")]),s._v(" ==> TCP 类型）")])]),s._v(" "),t("h4",{attrs:{id:"syn-扫描"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#syn-扫描"}},[s._v("#")]),s._v(" SYN 扫描")]),s._v(" "),t("p",[s._v("TCP 两次握手（隐藏扫描, 速度快, nmap 缺省参数）")]),s._v(" "),t("p",[t("code",[s._v("Scanning Format:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("nmap -sS -Pn "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("IP or domain"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[t("code",[s._v("-sS")]),s._v(" SYN 连接扫描（ "),t("code",[s._v("s")]),s._v(" ==> 哪种类型扫描； "),t("code",[s._v("S")]),s._v(" ==> SYN 类型）")])]),s._v(" "),t("h4",{attrs:{id:"ack-扫描"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ack-扫描"}},[s._v("#")]),s._v(" ACK 扫描")]),s._v(" "),t("p",[s._v("ACK 扫描, 用于确定 TCP 端口是否被防火墙过滤。")]),s._v(" "),t("p",[t("code",[s._v("Scanning Format:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("nmap -sA -Pn "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("IP or domain"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[t("code",[s._v("-sA")]),s._v(" ACK 连接扫描（ "),t("code",[s._v("s")]),s._v(" ==> 哪种类型扫描； "),t("code",[s._v("A")]),s._v(" ==> ACK 类型）")])]),s._v(" "),t("h4",{attrs:{id:"udp-扫描"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#udp-扫描"}},[s._v("#")]),s._v(" UDP 扫描")]),s._v(" "),t("p",[s._v("DHCP, DNS, SNMP, TFTP 等都使用了 UDP 协议；UDP 扫描会评估目标系统上的 UDP 端口, 可以确认 UDP 端口是开放还是被防火墙过滤。")]),s._v(" "),t("p",[t("code",[s._v("Scanning Format:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("nmap -sU -Pn "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("IP or domain"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[t("code",[s._v("-sU")]),s._v(" UDP 连接扫描（ "),t("code",[s._v("s")]),s._v(" ==> 哪种类型扫描； "),t("code",[s._v("U")]),s._v(" ==> UDP 类型）"),t("br"),s._v(" "),t("code",[s._v("-sV")]),s._v(" UDP 扫描中添加版本扫描信息（ "),t("code",[s._v("V")]),s._v(" ==> 版本信息）"),t("br"),s._v("\n不存在 "),t("code",[s._v("-Pn")]),s._v(" 参数（从 UDP 协议去理解, 你发了就 ok 管他收没收到）")])]),s._v(" "),t("h3",{attrs:{id:"扫描-ip-段"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#扫描-ip-段"}},[s._v("#")]),s._v(" 扫描 IP 段")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("nmap "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.1-255    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 扫描 192.168.1.1－192.168.1.255 所有 IP")]),s._v("\nnmap "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.1/24     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 扫描 192.168.1.1－192.168.1.255 所有 IP")]),s._v("\nnmap -iL IPL.txt        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 扫描 IPL.txt 中保存的所有 IP")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"输出保存选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#输出保存选项"}},[s._v("#")]),s._v(" 输出保存选项")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("-oN")]),s._v(" => 保存为文本文件")]),s._v(" "),t("li",[t("strong",[s._v("-oX")]),s._v(" => 保存为 XML 文件")]),s._v(" "),t("li",[t("strong",[s._v("-oG")]),s._v(" => 保存为 GREPable 输出")]),s._v(" "),t("li",[t("strong",[s._v("-oS")]),s._v(" => 脚本输出")])]),s._v(" "),t("h2",{attrs:{id:"其他更详细的扫描"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他更详细的扫描"}},[s._v("#")]),s._v(" 其他更详细的扫描")]),s._v(" "),t("h3",{attrs:{id:"nmap-扫描策略"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nmap-扫描策略"}},[s._v("#")]),s._v(" Nmap 扫描策略")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 适用所有大小网络最好的 nmap 扫描策略")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 主机发现,生成存活主机列表")]),s._v("\nnmap -sn -T4 -oG Discovery.gnmap "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".56.0/24\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Status: Up"')]),s._v(" Discovery.gnmap "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cut")]),s._v(" -f "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" LiveHosts.txt\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 端口发现,发现大部分常用端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# https//nmap.org/presentations/BHDC08/bhdc08-slides-fyodor.pdf")]),s._v("\nnmap -sS -T4 -Pn -oG TopTCP -iL LiveHosts.txt\nnmap -sU -T4 -Pn -oN TopUDP -iL LiveHosts.txt\nnmap -sS -T4 -Pn --top-ports "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3674")]),s._v(" -oG "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3674")]),s._v(" -iL LiveHosts.txt\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 端口发现,发现全部端口,但 UDP 端口的扫描会非常慢")]),s._v("\nnmap -sS -T4 -Pn -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-65535 -oN FullTCP -iL LiveHosts.txt\nnmap -sU -T4 -Pn -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-65535 -oN FullUDP -iL LiveHosts.txt\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示 TCP\\UDP 端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"open"')]),s._v(" FullTCP"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cut")]),s._v(" -f "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" -nu "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cut")]),s._v(" -f "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/ /,/g'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{print "T:"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v("}'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"open"')]),s._v(" FullUDP"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cut")]),s._v(" -f "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("' '")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" -nu "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cut")]),s._v(" -f "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/ /,/g'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{print "U:"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$0")]),s._v("}'")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 侦测服务版本")]),s._v("\nnmap -sV -T4 -Pn -oG ServiceDetect -iL LiveHosts.txt\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 扫做系统扫描")]),s._v("\nnmap -O -T4 -Pn -oG OSDetect -iL LiveHosts.txt\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 系统和服务检测")]),s._v("\nnmap -O -sV -T4 -Pn -p U:53,111,137,T:21-25,80,139,8080 -oG OS_Service_Detect -iL LiveHosts.txt\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 扫描 B 段的存活主机")]),s._v("\nnmap -v -sn -PE -n --min-hostgroup "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v(" --min-parallelism "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("172.16")]),s._v(".0.0/16 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -v down "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"172.16."')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br")])]),t("h3",{attrs:{id:"nmap-躲避防火墙"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nmap-躲避防火墙"}},[s._v("#")]),s._v(" Nmap 躲避防火墙")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 分段")]),s._v("\nnmap -f\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改默认 MTU 大小,但必须为 8 的倍数(8,16,24,32 等等)")]),s._v("\nnmap --mtu "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生成随机数量的欺骗")]),s._v("\nnmap -D RND:10 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("target"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 手动指定欺骗使用的 IP")]),s._v("\nnmap -D decoy1,decoy2,decoy3 etc.\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 僵尸网络扫描, 首先需要找到僵尸网络的IP")]),s._v("\nnmap -sI "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Zombie IP"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Target IP"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定源端口号")]),s._v("\nnmap --source-port "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" IP\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在每个扫描数据包后追加随机数量的数据")]),s._v("\nnmap --data-length "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(" IP\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# MAC 地址欺骗,可以生成不同主机的 MAC 地址")]),s._v("\nnmap --spoof-mac Dell/Apple/3Com IP\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("h3",{attrs:{id:"nmap-进行-web-漏洞扫描"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nmap-进行-web-漏洞扫描"}},[s._v("#")]),s._v(" Nmap 进行 Web 漏洞扫描")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/share/nmap/scripts/\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://www.computec.ch/projekte/vulscan/download/nmap_nse_vulscan-2.0.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xzf nmap_nse_vulscan-2.0.tar.gz\nnmap -sS -sV --script"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vulscan/vulscan.nse target\nnmap -sS -sV --script"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vulscan/vulscan.nse –script-args "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("vulscandb")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("scipvuldb.csv target\nnmap -sS -sV --script"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vulscan/vulscan.nse –script-args "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("vulscandb")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("scipvuldb.csv -p80 target\nnmap -PN -sS -sV --script"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vulscan –script-args "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("vulscancorrelation")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" -p80 target\nnmap -sV --script"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("vuln target\nnmap -PN -sS -sV --script"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("all –script-args "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("vulscancorrelation")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" target\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"nmap-端口扫描"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nmap-端口扫描"}},[s._v("#")]),s._v(" Nmap 端口扫描")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用诱饵隐蔽扫描 nmap -D RND:10 [target] (生成随机数量的诱饵)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# fargement")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# data packed – like orginal one not scan packet")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 auxiliary/scanner/ip/ipidseq 来在僵尸网络中查找IP并使用这些IP进行扫描 — nmap -sI ip target")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nmap –source-port 53 target")]),s._v("\n\nnmap -sS -sV -D IP1,IP2,IP3,IP4,IP5 -f –mtu"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v(" –data-length"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1337")]),s._v(" -T2 target "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("随机使用不同的IP进行扫描"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nnmap -Pn -T2 -sV –randomize-hosts IP1,IP2\nnmap –script smb-check-vulns.nse -p445 target "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("使用 NSE 脚本"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nnmap -sU -P0 -T Aggressive -p123 target "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("攻击式扫描 T1-T5"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nnmap -sA -PN -sN target\nnmap -sS -sV -T5 -F -A -O target "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("版本检测"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nnmap -sU -v target "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Udp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nnmap -sU -P0 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Udp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nnmap -sC "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".31.10-12 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("全部使用默认配置"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h2",{attrs:{id:"示例扫描"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例扫描"}},[s._v("#")]),s._v(" 示例扫描")]),s._v(" "),t("h3",{attrs:{id:"示例一-syn-扫描"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例一-syn-扫描"}},[s._v("#")]),s._v(" 示例一: SYN 扫描")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("nmap -sS -T5 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".199.133\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://oss-blog.test.upcdn.net/liunx-nmap-1.png",alt:"Namp"}})]),s._v(" "),t("h3",{attrs:{id:"示例二-基础信息扫描"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例二-基础信息扫描"}},[s._v("#")]),s._v(" 示例二: 基础信息扫描")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("nmap -O "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".199.133\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://oss-blog.test.upcdn.net/liunx-nmap-2.png",alt:"Namp"}})]),s._v(" "),t("h3",{attrs:{id:"示例三-详细信息扫描"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例三-详细信息扫描"}},[s._v("#")]),s._v(" 示例三: 详细信息扫描")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("nmap -A "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".199.133\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://oss-blog.test.upcdn.net/liunx-nmap-3.png",alt:"Namp"}})]),s._v(" "),t("br"),s._v(" "),t("p",[t("img",{attrs:{src:"http://oss-blog.test.upcdn.net/liunx-nmap-4.png",alt:"Namp"}})]),s._v(" "),t("br"),s._v(" "),t("p",[t("img",{attrs:{src:"http://oss-blog.test.upcdn.net/liunx-nmap-5.png",alt:"Namp"}})]),s._v(" "),t("h3",{attrs:{id:"示例四-网段扫描"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例四-网段扫描"}},[s._v("#")]),s._v(" 示例四: 网段扫描")]),s._v(" "),t("p",[t("code",[s._v("For Example:")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("nmap -T5 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".1.103-110\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"http://oss-blog.test.upcdn.net/liunx-nmap-6.png",alt:"Namp"}})]),s._v(" "),t("br"),s._v(" "),t("p",[t("img",{attrs:{src:"http://oss-blog.test.upcdn.net/liunx-nmap-7.png",alt:"Namp"}})])])}),[],!1,null,null,null);a.default=e.exports}}]);